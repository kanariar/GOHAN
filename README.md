🍙アプリタイトル🍙
今日のごはんどうする？
<img width="327" height="716" alt="image" src="https://github.com/user-attachments/assets/290d63d8-f5d9-4a1c-8091-c57b80723bf1" />




今日のごはんを一緒に考えるiOSアプリです。

🍙概要🍙

友人とお出かけをして、その日のランチやディナーを決める時、
食べたいものがあれば「ここ行きたい！」ですぐ決まります。
しかし、お互い特に行きたい場所がないとき、「なんの気分...？」「調べてみるね...！」と微妙な時間になります。
このアプリがあれば、いくつかの質問に答えるだけでおすすめしてくれます。
現在は1人向けですが、ゆくゆくは2人向けのアプリを作りたいと考えています。



🍙主な機能🍙
・キャラクターとの対話的診断
パートナーキャラクター「アメリ」（ねこ）との会話形式で診断が進行。
ユーザーは「気分タグ」を選択していくだけで、直感的に好みを伝えられます。
・目的別フロー分岐
起動時に「もう決まってる！」「一緒に考えて！」の選択肢を提示。
目的が明確なユーザーには効率的な検索機能を、相談したいユーザーには対話的な診断機能を提供します。
・スコア制の推薦ロジック
ユーザーが選択したタグに基づき、全レシピをスコアリング。
絞り込むだけでなく、ユーザーの気分への「マッチ度」が高い順に結果を提案します。
・Web検索連携
提案されたレシピ名をタップすると、ブラウザが起動し「（レシピ名） レシピ」の検索結果を即座に表示。
レシピ検索の手間を省き、作ってみたいと思わせます。
・画像共有機能
診断結果を、キャラクターと提案レシピがデザインされた一枚の画像として生成。
LINEやSNSで簡単に共有でき、コミュニケーションのきっかけを生み出します。


🍙使用技術🍙

このアプリは、Swiftの勉強も兼ねて、自分が作りたいものを目指して作成しました。

・対話形式UI:
SwiftUIを駆使し、キャラクターとの話ウィンドウを実装。
@Stateによる動的なセリフ・表情の更新で、キャラクターとの対話感を演出しました。
・動的レイアウト:
GeometryReaderやlayoutPriorityを試行錯誤し、多様な画面サイズでもレイアウトが破綻しないようにしました。
・再利用可能なコンポーネント:
ConversationViewやTagCardといったUI部品をコンポーネント化することで、コードの可読性と保守性を高めました。
・柔軟なスコアリングエンジン:
複数の「気分タグ」に重み付け（「食べたいもの」ボーナス点）を行い、ユーザーの多様な好みに応える柔軟な推薦ロジックを構築しました。
・状態管理:
EnvironmentObjectを活用し、複雑な画面遷移を経てもユーザーの選択状態（DiagnosisSession）を一元的に管理。
データの整合性を保ちました。
・Viewの画像化:
SwiftUIのViewをUIGraphicsImageRendererを用いて画像（UIImage）に変換する高度なテクニックを実装し、リッチなSNS共有機能を実現しました。
・URLエンコーディング:
addingPercentEncodingを適切に使用し、日本語を含む検索クエリを安全にWeb検索URLへ連携させる機能を実装しました。


🍙今後の展望🍙
・A/Bテスト機能:
パートナーキャラクターAとB、2人の診断結果を比較・統合し、最適な一品を提案する「ふたりごはんモード」の実装。
・ごはん日記機能:
診断結果から実際に作った料理を記録し、カレンダーで振り返れる機能。
・データ永続化:
SwiftDataやCore Dataを用いて、診断履歴や日記データをデバイスに保存する機能。
